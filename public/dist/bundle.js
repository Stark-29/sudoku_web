(()=>{"use strict";var e={240:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BASE_LAYOUT=void 0,a.BASE_LAYOUT=[[0,1,2,3,4,5,6,7,8],[9,10,11,12,13,14,15,16,17],[18,19,20,21,22,23,24,25,26],[27,28,29,30,31,32,33,34,35],[36,37,38,39,40,41,42,43,44],[45,46,47,48,49,50,51,52,53],[54,55,56,57,58,59,60,61,62],[63,64,65,66,67,68,69,70,71],[72,73,74,75,76,77,78,79,80]]},647:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DIFFICULTY_LEVELS=void 0;a.DIFFICULTY_LEVELS=Object.keys({easy:void 0,medium:void 0,hard:void 0,expert:void 0})},956:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SEEDS=void 0,a.SEEDS=[{puzzle:"g--d--caf---g----ii-f--hg-bb-iaedhgc--afcg--d-g-b-----f-d--abc---b------c--h-bfia",solution:"gbhdiecafacegbfdhiidfcahgebbfiaedhgcehafcgibddgcbhiafefidegabchhabifcedgceghdbfia",difficulty:"easy"},{puzzle:"bf-hiac-g-gi------a-hf-g---g-a-fi--ddef---i-b--b-a-g-ff---gbh--hac---------e-cfd-",solution:"bfdhiacegegicbdafhachfegdbighabfiecddefgchiabcibdaeghffdeagbhichacidfbgeibgehcfda",difficulty:"easy"},{puzzle:"hgad-e--b-cbf-ge---df-aih-----i-------d-ecai-g---fa----igadf----fe-i-----h-eg-fd-",solution:"hgadceifbicbfhgeadedfbaihcgcahibdgeffbdgecaihgeihfadbcbigadfchedfecihbgaahcegbfdi",difficulty:"easy"},{puzzle:"-fbe-c----e-----a---g-ihb--gb-fhdc-eid-g-eahbch-----f-----ef-ga-g----e-i--hi-----",solution:"afbegcidhheidfbgacdcgaihbefgbafhdcieidfgceahbchebaidfgbidcefhgafgchdaebieahibgfcd",difficulty:"easy"},{puzzle:"c--d-fgeb---g--i-hg-ih--da-a-g-b-cde-edc--a--b--------i-e-cd-ha-fb-h-e-ch--e-----",solution:"cahdifgebedfgabichgbihecdafahgfbicdefedcghabibicadehfgigebcdfhadfbihaegchcaefgbid",difficulty:"easy"},{puzzle:"bi---ec--eg--h-fbdf--------i-hba-dfe----ehbig--bf-d-h--f-e-a-c-----g-e--cde--f--a",solution:"bidgfecahegcahifbdfhadcbgeiichbagdfedafcehbiggebfidahchfgedaicbabihgcedfcdeibfhga",difficulty:"easy"},{puzzle:"-----ef-ha--bf--ecfe-gc---a----gbch--a--df-b--bi----f-h-af-gidbdf----g--i--c--ha-",solution:"bicdaefghahgbfidecfedgchbiaedfagbchicahidfebggbiehcafdhcafegidbdfbhiagceigecbdhaf",difficulty:"easy"},{puzzle:"--fg--hec-ebc-------h-dfgabb--h-a-fg-g-df-i--f-a---b--hf----ad---if----hc-ea---bi",solution:"dafgbihecgebcahdifichedfgabbidhcaefgegcdfbihafhaigebcdhfgbicadeabifedcghcdeahgfbi",difficulty:"easy"},{puzzle:"-----b-f-e-aih----bi----a----e---i---g-bf--a-----cihg-ic-fdhg-a--h---f-cgef-iad-b",solution:"dhcgabefiefaihcbdgbigdefachcaehgdibfhgibfecadfbdacihgeicbfdhgeaadhebgficgefciadhb",difficulty:"easy"},{puzzle:"e--f-b-------eid-f--h----b-ge-c-fadhab-ihgfe-hc--d----d-g---cf---eg--h-bf---i----",solution:"edcfgbihabgaheidcfifhdcaebggeicbfadhabdihgfechcfadebgidigbahcfecaegfdhibfhbeicgad",difficulty:"easy"},{puzzle:"g-hedcf---i-f--a--e--a-----c--i-deh-i-------g--g--e---a----f--c-cf-e-gi-b-------e",solution:"gahedcfbidicfbgaehefbaihcgdcbaigdehfihebfadcgfdghceiabaeighfbdchcfdebgiabgdcaihfe",difficulty:"medium"},{puzzle:"-di--ac---b-cid-h---h--b-d-----f----h-d----fca---c-i--d----i-e-bh---cd-g-g---fac-",solution:"fdighacbeebgcidfhacahfebgdigecifhbadhidabgefcafbdceighdcabgihefbhfeacdigigehdfacb",difficulty:"medium"},{puzzle:"--ac-i------ah-d---e----i---a-e-bc----g--f--ad---gae--ig-fa------hd-e-g-c-d-b----",solution:"hdaceigfbbifahgdcegecbfdiahfaiedbchgehgicfbdadcbhgaeifigefachbdabhdiefgccfdgbhaei",difficulty:"medium"},{puzzle:"fg----i---h--f-e--e-bd--afh-f--hg--ic------b----f-c-----c-------eiac-gdf-b-----e-",solution:"fgaebhicdihdcfaegbecbdgiafhdfebhgcaicahidefbgbigfacdhegdchefbiaheiacbgdfabfgidhec",difficulty:"medium"},{puzzle:"--d-g-fi---e-ci-d-a----eg-----i---f---bg--ec-e--d--haig----f----ha--------ch-g-e-",solution:"cbdaghfiehgefciadbaifbdeghcdahiecbfgifbghaecdecgdfbhaigeicafdbhbhaeidcgffdchbgiea",difficulty:"medium"},{puzzle:"----d-a---a-ie---di------h-d-e--cg-b-b-e--i----c-i--dh--h-gf--c------b-g--i-ce-a-",solution:"ehfcdgabicabiehfgdigdfbachediehacgfbhbgefdicaafcgibedhbehagfdicfcadhibeggdibcehaf",difficulty:"medium"},{puzzle:"---cfa-ibf---i-------g---f--i--h-cd-gdf--------cd--fb-------bc--gb---dhi---he--g-",solution:"dhecfagibfbgeidhaccaigbhefdbiafhecdggdfbaciehhecdgifbaafhidgbceegbacfdhiicdhebagf",difficulty:"medium"},{puzzle:"a------g-b--di-a-f--e--ahi----a------bae--------ichbaei---de------c-igd-d-h----ci",solution:"aidhefcgbbhgdicaeffcebgahidheiabgdfccbaefdihggdfichbaeiacgdefbhefbchigdadghfabeci",difficulty:"medium"},{puzzle:"----g-------ci--bg-i-de-af-------beh-----fgdi---eb-f----ah--ig---hg-d---cd--a----",solution:"hacfgbdieefdciahbggibdehafcagfidcbehbceahfgdidhiebgfcafbahceigdiehgfdcabcdgbaiehf",difficulty:"medium"},{puzzle:"gfbc---dh-a-------d--a--fi--daifc--ech------f-------c-f---e--b---d-----i--igh-d--",solution:"gfbcieadhiahbdfcegdceaghfibbdaifcghechgebdiafeifhagbcdfgcdeihbahbdfcaegiaeighbdfc",difficulty:"medium"},{puzzle:"-e-fh--a-g----ed---a--b-f---ih----dc--------a----g----b---i---dhc-gf-----g------e",solution:"debfhciagghfiaedcbcaidbgfehaihbefgdcfbgcdiehaedchgabifbfaeihcgdhcegfdabiigdacbhfe",difficulty:"hard"},{puzzle:"----i-b---fc--a-h-eb----i-fcieg--ad---hd-e----d--a----f---b-e-i-------b--h--e----",solution:"hageifbcdifcbdagheebdchgiafciegfbadhaghdcefibbdfiahcegfcahbdegideifgchbaghbaeidfc",difficulty:"hard"},{puzzle:"-------hg-----h-d-a-g---ei--ce--dg--dbf---------bfid--hg---f----d--h---c--a-eg---",solution:"bedfiachgficeghbdaahgdbceificehadgfbdbfgceiahgahbfidcehgbcdfaeiediahbfgccfaieghbd",difficulty:"hard"},{puzzle:"h---f------------i--e---a-h-dhe---a---fh-b----i--c---gf-ga-di--a-i---d-bce------a",solution:"hgcifabdedabgehfciifebdcaghbdheigcafgcfhabeideiadcfhbgfbgahdiecahicgedfbcedfbigha",difficulty:"hard"},{puzzle:"f----dha----b------a------dic---h------c--egb-----------a-----ed--f-ec-g-fg------",solution:"febigdhachdcbfageigaiehcbfdicegbhadfahfcdiegbbgdaefichcbadigfhedihfaecbgefghcbdia",difficulty:"hard"},{puzzle:"c-a---i---b--c--ede----g--c-e---dga--c---b--i--gf-----b-----ei------a-cg--ie----a",solution:"cfahdeigbgbhacifedeidbfgahchebcidgafacfgebhdiidgfahcbebacdgfeihfheibadcgdgiehcbfa",difficulty:"hard"},{puzzle:"--a-i---cc-g-------h--e--a--a---ib---d--f--h-----------i---d-f------g-c-dg---b--h",solution:"beagifhdccfghdaibeihdbecfaghafcgibedgdbafechiecidbhagfaihecdgfbfbeihgdcadgcfabeih",difficulty:"hard"},{puzzle:"i--f--ec------a-fbg-b-i---h-d---ihg-----b---fe---a------d-----i---ie-b-------g---",solution:"iahfdbecgdcehgaifbgfbeicdahbdacfihgechgdbeaifeifgahcbdhbdacfgeifgciedbhaaeibhgfdc",difficulty:"hard"},{puzzle:"--e---c------i--g-------d-hbaf--------cfhe--ie------f-h-d-c-----f-h----c---i-ga--",solution:"fdegbhciaacheidfgbibgcfadehbafdgihcedgcfhebaiehibacgfdhidacfebggfahebidccebidgahf",difficulty:"hard"},{puzzle:"--f-d-i---g--b-a-d--c-a-----c-i---e---eh--g---------ac---------b---i-e----gf--d--",solution:"abfcdhigehgiebfacddecgaibhfgcdifahebfaehcbgdiihbdegfacefabgdcihbdhaicefgcigfhedba",difficulty:"hard"},{puzzle:"-ica------------bh----g--f--g---a---i-e----c-a---f------d--bg------c---e-fg----id",solution:"ficabhdeggeaidfcbhdhbegcifabgfceahdiidebhgacfachdfiegbeadfibghchbigcdfaecfghaebid",difficulty:"expert"},{puzzle:"-h-i------i---------f--bh--b---a--ed-ca------i--f---h--------c----he--f-ab--df---",solution:"ehbicdgafdigafhcbecafegbhdibghcaifedfcadheigbiedfbgahchfebiadcggdihecbfaabcgdfeih",difficulty:"expert"},{puzzle:"-h--c-f-ice-------b--ia--------g-h------e---ff--h---i----b---eh----------ga--f--c",solution:"ahgdcefbiceigfbahdbfdiahcgediefgchabgbhaeidcffachbdeigicfbdagehedbchgifahgaeifbdc",difficulty:"expert"},{puzzle:"a----db---g-c----f--e-f--i---------i----h-f-d--g---ch---b--e-c-ca------h-d-------",solution:"afchidbegigdcebhafhbegfadicfehdgcabibcaehifgddigbafcheghbfdeicacafibgedhediachgfb",difficulty:"expert"},{puzzle:"------c--g-b--a---------g-h---e----gb--id-----i-f---eb----i---c-he-f-d--a------h-",solution:"edhbgicfagfbchaeidicadefgbhhafebcidgbegidhacfdicfaghebfgdhiebaccheafbdgiabigcdfhe",difficulty:"expert"},{puzzle:"---bf-i-------hc-aa----------g------h--c-e----i----bh----f---g--f-----e---hig-a--",solution:"chebfaidgfgdeihcbaabidcgefhbeghdifachafcbegiddicgafbheicafedhgbgfbahcdeiedhigbacf",difficulty:"expert"},{puzzle:"--c-----d---g-i--h-i----b--ace------d--bh----b--f---------e---------bea--d--a--c-",solution:"gecabhifdfbagdicehhidefcbgaaceigdhbfdgfbheaicbhifcagdeiagcefdhbcfhdibeagedbhagfci",difficulty:"expert"},{puzzle:"-----d-h--h-----a-gb------i-----a--g----eh-c--i--d-----ge---a--d----f-----ab--i--",solution:"iacefdghbehdgibcafgbfhacedicehfbadigfdgiehbcaaibcdgfehbgedhiafcdciagfhbehfabceigd",difficulty:"expert"},{puzzle:"-bi-------c----e---------af---eba-----a-i-g------c--i----h-e--d-e------gc-b--f---",solution:"fbiaegdhcachdfbegiedgchibafgicebafdhbhafidgcedfegchaibiafhgecbdhedbacifgcgbidfhea",difficulty:"expert"},{puzzle:"---i--h-bc----b----g----a----gd-----e--h-f------b---ac-c------ha-----id--i--gd---",solution:"deficahgbchagfbdeibgiedhacffagdicbheebchafgididhbegfacgcdabiefhafbcheidghiefgdcba",difficulty:"expert"}]},444:(e,a,i)=>{a.u=void 0;var t=i(618);Object.defineProperty(a,"u",{enumerable:!0,get:function(){return t.getSudoku}})},618:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getSudoku=void 0;const t=i(240),d=i(647),c=i(236),o=i(146),f=i(720),n=i(57),l=i(956),r=i(663);a.getSudoku=e=>{if(e&&!(0,r.validateDifficulty)(e))throw new Error(`Invalid difficulty, expected one of: ${d.DIFFICULTY_LEVELS.join(", ")}`);const a=(0,o.getSeed)(l.SEEDS,e),i=(0,c.getLayout)(t.BASE_LAYOUT),g=(0,n.getTokenMap)();return{puzzle:(0,f.getSequence)(i,a.puzzle,g),solution:(0,f.getSequence)(i,a.solution,g),difficulty:a.difficulty}}},157:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.boardToSequence=void 0,a.boardToSequence=e=>e.map((e=>e.join(""))).join("")},569:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRandomItem=void 0,a.getRandomItem=e=>e[Math.floor(Math.random()*e.length)]},720:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getSequence=void 0;const t=i(157),d=i(882),c=i(762);a.getSequence=(e,a,i)=>(0,t.boardToSequence)((0,d.populateLayout)(e,(0,c.replaceTokens)(a,i)))},762:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.replaceTokens=void 0,a.replaceTokens=(e,a)=>e.split("").map((e=>a[e]||e)).join("")},593:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.sortRandom=void 0,a.sortRandom=()=>Math.random()<.5?1:-1},335:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getLayoutBands=void 0,a.getLayoutBands=e=>[[e[0],e[1],e[2]],[e[3],e[4],e[5]],[e[6],e[7],e[8]]]},236:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getLayout=void 0;const t=i(691),d=i(129);a.getLayout=e=>(0,d.shuffleLayout)((0,t.rotateLayout)(e))},882:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.populateLayout=void 0,a.populateLayout=(e,a)=>e.map((e=>e.map((e=>a[e]))))},384:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.rotateLayout0=void 0,a.rotateLayout0=e=>e},529:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.rotateLayout180=void 0,a.rotateLayout180=e=>e.map((e=>[...e].reverse())).reverse()},779:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.rotateLayout270=void 0,a.rotateLayout270=e=>e[0].map(((a,i)=>e.map((e=>[...e].reverse()[i]))))},873:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.rotateLayout90=void 0,a.rotateLayout90=e=>e[0].map(((a,i)=>e.map((e=>e[i])).reverse()))},691:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.rotateLayout=void 0;const t=i(569),d=i(384),c=i(529),o=i(779),f=i(873);a.rotateLayout=e=>(0,t.getRandomItem)([d.rotateLayout0,f.rotateLayout90,c.rotateLayout180,o.rotateLayout270])(e)},506:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.shuffleLayoutBands=void 0;const t=i(335),d=i(593);a.shuffleLayoutBands=e=>(0,t.getLayoutBands)(e).sort(d.sortRandom).flat()},887:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.shuffleLayoutColumns=void 0;const t=i(779),d=i(873),c=i(359);a.shuffleLayoutColumns=e=>(0,t.rotateLayout270)((0,c.shuffleLayoutRows)((0,d.rotateLayout90)(e)))},359:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.shuffleLayoutRows=void 0;const t=i(335),d=i(593);a.shuffleLayoutRows=e=>(0,t.getLayoutBands)(e).map((e=>e.sort(d.sortRandom))).flat()},339:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.shuffleLayoutStacks=void 0;const t=i(779),d=i(873),c=i(506);a.shuffleLayoutStacks=e=>(0,t.rotateLayout270)((0,c.shuffleLayoutBands)((0,d.rotateLayout90)(e)))},129:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.shuffleLayout=void 0;const t=i(506),d=i(887),c=i(359),o=i(339);a.shuffleLayout=e=>(0,d.shuffleLayoutColumns)((0,c.shuffleLayoutRows)((0,o.shuffleLayoutStacks)((0,t.shuffleLayoutBands)(e))))},146:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getSeed=void 0;const t=i(569),d=i(595);a.getSeed=(e,a)=>(0,t.getRandomItem)((0,d.getSeedsByDifficulty)(e,a))},595:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getSeedsByDifficulty=void 0,a.getSeedsByDifficulty=(e,a)=>e.filter((e=>!a||e.difficulty===a))},57:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getTokenMap=void 0;const t=i(593);a.getTokenMap=()=>"abcdefghi".split("").sort(t.sortRandom).reduce(((e,a,i)=>({...e,[a]:String(i+1)})),{})},663:(e,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.validateDifficulty=void 0;const t=i(647);a.validateDifficulty=e=>t.DIFFICULTY_LEVELS.includes(e)}},a={};function i(t){var d=a[t];if(void 0!==d)return d.exports;var c=a[t]={exports:{}};return e[t](c,c.exports,i),c.exports}(()=>{var e,a=i(444),t=null,d=null,c=[],o=null,f=null,n=[],l=[],r=!1,g=!1,h=!1,s=0,u=3,b=new Array(9).fill(0),m="easy",y=document.querySelector(".tool:first-child img");y.addEventListener("click",(function(){var e=y.parentElement.querySelector("span");e.style.color="#2f7bda",(g=!g)?(S(L(c)),y.classList.toggle("pressed")):(document.querySelectorAll(".grid-container").forEach((function(e){return e.remove()})),e.style.color="#aaaaaa",y.classList.remove("pressed"))}));var v=document.querySelectorAll(".tool")[1].querySelector("img");v.addEventListener("click",(function(){var e=v.nextElementSibling;(h=!h)?(console.log("Lápiz de candidatos activado"),v.classList.toggle("pressed"),e.style.color="#2f7bda"):(console.log("Lápiz de candidatos desactivado"),e.style.color="#aaaaaa",v.classList.remove("pressed"))}));var p=document.querySelector(".tool:nth-child(3) img.pista-image");function L(e){for(var a=[],i=0;i<e.length;i++)for(var t=0;t<e[i].length;t++)if(0===e[i][t]){var d=E(e,i,t);a.push({row:i,col:t,candidates:d})}return a}function E(e,a,i){for(var t=[],d=1;d<=9;d++)z(e,a,i,d)&&t.push(d);return t}function z(e,a,i,t){for(var d=0;d<9;d++)if(e[a][d]===t)return!1;for(var c=0;c<9;c++)if(e[c][i]===t)return!1;for(var o=3*Math.floor(a/3),f=3*Math.floor(i/3),n=o;n<o+3;n++)for(var l=f;l<f+3;l++)if(e[n][l]===t)return!1;return!0}function S(e){e.forEach((function(e){var a=e.row,i=e.col,t=e.candidates,d=document.getElementById(a+"-"+i);if(d&&!d.querySelector(".user-input")&&!d.classList.contains("tile-start")&&!d.classList.contains("pista")){var c=d.querySelector(".grid-container");if(c&&c.classList.contains("user-modified"))c.querySelectorAll(".candidate").forEach((function(e){var a=parseInt(e.textContent);t.includes(a)||e.remove()}));else{console.log("se ejecuto el sida de que tiene user-input"),d.innerHTML="",(c=document.createElement("div")).classList.add("grid-container");var o=[[1,2,3],[4,5,6],[7,8,9]];t.forEach((function(e){var a=document.createElement("span");a.classList.add("candidate");var i=o[Math.floor((e-1)/3)][(e-1)%3];a.style.gridColumn=i%3==0?3:i%3,a.style.gridRow=Math.ceil(i/3),a.textContent=e,c.appendChild(a)})),d.appendChild(c)}}}))}function I(){var e=document.getElementById("remaining-container");e.innerHTML="";for(var a=1;a<=9;a++){var i=document.createElement("div"),t=9-o[a-1];i.innerText=t,i.classList.add("remaining"),i.dataset.number=a,e.appendChild(i)}}function M(e){for(var a=new Array(9).fill(0),i=0;i<9;i++)for(var t=0;t<9;t++){var d=e[i][t];0!==d&&a[d-1]++}return a}function _(i,d){if(t=null,O(),w=Date.now(),j=setInterval((function(){var e,a,i,t;e=Date.now()-w,a=Math.floor(e/6e4),i=Math.floor(e%6e4/1e3),t="".concat(a.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0")),document.getElementById("timer").innerText=t}),1e3),b=new Array(9).fill(0),i&&d)n=i,l=d,c=JSON.parse(JSON.stringify(n)),o=M(n),I();else{var f=(0,a.u)(m),r=f.puzzle,g=f.solution;console.log("Sudoku generado:",r),n=[];for(var h=0;h<9;h++)n.push(r.substring(9*h,9*(h+1)).split("").map((function(e){return"-"===e?0:parseInt(e)})));c=JSON.parse(JSON.stringify(n)),o=M(n),I(),l=[];for(var s=0;s<9;s++)l.push(g.substring(9*s,9*(s+1)).split("").map((function(e){return"-"===e?0:parseInt(e)})))}console.log("Sudoku resuelto:",l),console.log("Nested Puzzle:",n),M(n);for(var u=1;u<=9;u++){var y=document.createElement("div");y.innerText=u,y.dataset.number=u,y.addEventListener("click",N),y.classList.add("number"),document.getElementById("digits").appendChild(y)}for(var v=0;v<9;v++)for(var p=0;p<9;p++){var L=document.createElement("div");if(L.id=v.toString()+"-"+p.toString(),0!==n[v][p]){L.innerText=n[v][p],L.classList.add("tile-start");var E=n[v][p];b[E-1]++}2!=v&&5!=v||L.classList.add("horizontal-line"),0!=v&&1!=v&&3!=v&&4!=v&&6!=v&&7!=v||L.classList.add("horizontal-grid"),2!=p&&5!=p||L.classList.add("vertical-line"),0!=p&&1!=p&&3!=p&&4!=p&&6!=p&&7!=p||L.classList.add("vertical-grid"),L.addEventListener("click",C),L.classList.add("tile"),document.getElementById("board").append(L)}e=l,document.getElementById("difficulty").textContent=m.charAt(0).toUpperCase()+m.slice(1)}function x(e,a,i){var t=f.row,c=f.col,o=Math.max(0,Math.min(8,t+e)),n=Math.max(0,Math.min(8,c+a)),l="".concat(o,"-").concat(n);try{var r=document.getElementById(l);r&&(F(),B(),f={row:o,col:n},d=r,r.classList.add("highlighted"),d.classList.contains("user-input")||d.classList.contains("tile-start")?(T(parseInt(d.innerText)),k(o,n)):k(o,n))}catch(e){console.error("Error al seleccionar la celda:",e.message)}}function C(a,i){var o;if(F(),B(),a?((o=a.target).classList.contains("grid-container")||o.classList.contains("candidate"))&&(console.log("El clic se realizó en un grid-container o un candidato"),o=o.closest(".tile")):o=d,o){var n=o.id.split("-"),l=parseInt(n[0]),r=parseInt(n[1]);f={row:l,col:r},console.log("R=",l,"C=",r),(d=o).classList.add("highlighted"),k(l,r);var m=d.classList.contains("user-input")||d.classList.contains("tile-start");if(m&&(T(i||parseInt(d.innerText)),k(l,r)),!m&&i&&(console.log("El primer if se ha ejecutado correctamente."),""===d.innerText||d.querySelectorAll(".candidate").length>0)){if(console.log("El segundo if se ha ejecutado correctamente."),console.log("Valor de solution en la celda:",e[l][r]),console.log("El número seleccionado es ".concat(i,".")),h)return void function(e,a){var i=e.row,t=e.col,d=document.getElementById("".concat(i,"-").concat(t));if(d&&!d.classList.contains("user-input")&&!d.classList.contains("tile-start")){var c=d.querySelector(".grid-container");c||((c=document.createElement("div")).classList.add("grid-container"),d.appendChild(c)),c.classList.add("user-modified");var o=c.querySelectorAll(".candidate"),f=[[1,2,3],[4,5,6],[7,8,9]][Math.floor((a-1)/3)][(a-1)%3],n=Array.from(o).find((function(e){var a=parseInt(e.style.gridRow),i=parseInt(e.style.gridColumn);return a===Math.ceil(f/3)&&i===(f%3==0?3:f%3)}));if(n)n.remove();else{var l=document.createElement("span");l.textContent=a,l.classList.add("candidate","user-candidate"),l.style.gridColumn=f%3==0?3:f%3,l.style.gridRow=Math.ceil(f/3),c.appendChild(l)}}}(f,i);e&&e[l]&&e[l][r]===i?(R(i)?(d.innerText=i,console.log("El número ".concat(i," ha sido colocado en la celda ").concat(l,"-").concat(r,".")),d.classList.add("user-input"),d.querySelectorAll(".candidate").forEach((function(e){return e.remove()})),c[l][r]=i,b[i-1]++,console.log("Número ".concat(i," ha sido colocado ").concat(b[i-1]," veces.")),R(i)||(D(i),t=null),g&&S(L(c)),T(i),function(){var e=document.getElementById("remaining-container");e.innerHTML="";for(var a=1;a<=9;a++){var i=document.createElement("div"),t=9-b[a-1];t>0?i.innerText=t:(i.style.backgroundColor="transparent",i.style.visibility="hidden"),i.classList.add("remaining"),i.dataset.number=a,e.appendChild(i)}}(),k(l,r)):(s+=1,document.getElementById("errors").innerText="Mistakes: ".concat(s,"/").concat(u),s>=u&&(U(),q())),function(){for(var a=0;a<9;a++)for(var i=0;i<9;i++){var t=document.getElementById("".concat(a,"-").concat(i));if(t.classList.contains("user-input")||t.classList.contains("tile-start")){if(t.innerText!==e[a][i].toString())return!1}else if(""!==t.innerText.trim()||!t.querySelector(".candidate"))return!1}return console.log("El sudoku esta resuelto"),!0}()&&(U(),function(e){g=!1;var a=document.getElementById("board"),i=document.createElement("div");i.classList.add("dialog-container"),document.body.appendChild(i);var t=document.createElement("div");t.classList.add("dialog-box"),t.id="congratulations-message",i.appendChild(t);var d=document.createElement("div");d.classList.add("stars-container"),t.appendChild(d);for(var c=0;c<3;c++){var o=document.createElement("img");o.src="./assets/star-empty.png",o.classList.add("star"),d.appendChild(o)}var f=d.querySelectorAll(".star");0===e?f.forEach((function(e){e.src="./assets/star.png"})):1===e?(f[0].src="./assets/star.png",f[1].src="./assets/star.png"):2===e&&(f[0].src="./assets/star.png");var n=document.createElement("div"),l=document.getElementById("timer").innerText;n.innerHTML="¡Felicidades!<br>Has completado el sudoku en ".concat(l),n.classList.add("congratulations-text"),t.appendChild(n);var r=document.createElement("button");r.textContent="New Game",r.classList.add("new-game-button"),r.addEventListener("click",(function(){A(),document.getElementById("start-modal").style.display="block",document.getElementById("timer").innerText="00:00",U(),i.remove()})),t.appendChild(r),a.appendChild(t)}(s))):(s+=1,document.getElementById("errors").innerText="Mistakes: ".concat(s,"/").concat(u),s>=u&&(U(),q()))}}}function k(e,a){for(var i=3*Math.floor(e/3),t=3*Math.floor(a/3),d=i;d<i+3;d++)for(var c=t;c<t+3;c++)document.getElementById("".concat(d,"-").concat(c)).classList.add("highlighted-square");for(var o=0;o<9;o++)document.getElementById("".concat(o,"-").concat(a)).classList.add("highlighted-line"),document.getElementById("".concat(e,"-").concat(o)).classList.add("highlighted-line")}function T(e){B(),document.querySelectorAll("#board > div.tile").forEach((function(a){a.innerText===e.toString()&&(a.classList.contains("tile-start")||a.classList.contains("user-input"))&&(a.classList.add("highlighted"),a.style.backgroundColor="rgb(64, 89, 126)")})),document.querySelectorAll(".candidate").forEach((function(a){a.innerText===e.toString()&&a.classList.add("highlighted-candidate")}))}function B(){document.querySelectorAll(".highlighted, .highlighted-candidate").forEach((function(e){e.classList.remove("highlighted","highlighted-candidate"),e.style.backgroundColor=""}))}function q(){var e=document.getElementById("board");document.querySelectorAll("#board .tile").forEach((function(e){e.removeEventListener("click",C)})),document.getElementById("digits").style.cursor="default";var a=document.querySelectorAll("#digits > div"),i=document.querySelectorAll("#remaining-container > div");a.forEach((function(e){e.classList.add("unavailable"),e.style.cursor="default"})),i.forEach((function(e){e.classList.add("unavailable")})),r=!0;var t=document.createElement("div");t.classList.add("dialog-container"),document.body.appendChild(t);var d=document.createElement("div");d.classList.add("dialog-box"),d.id="game-over-message",t.appendChild(d);var o=document.createElement("div");o.textContent="GAME OVER",o.classList.add("game-over-text"),d.appendChild(o);var f=document.createElement("button");f.textContent="New Game",f.classList.add("new-game-button"),f.addEventListener("click",(function(){A(),document.getElementById("start-modal").style.display="block",document.getElementById("timer").innerText="00:00",U(),d.remove(),t.remove()})),d.appendChild(f);var h=document.createElement("button");h.textContent="Restart",h.classList.add("restart-button"),h.addEventListener("click",(function(){var e,a;U(),F(),s=0,r=!1,g=!1,c=[],n=e=n,l=a=l,document.getElementById("errors").innerText="Mistakes: 0/3",document.querySelectorAll("img.pressed").forEach((function(e){e.classList.remove("pressed")})),document.querySelectorAll("span").forEach((function(e){e.style.color=""})),O(),_(e,a),d.remove(),t.remove()})),d.appendChild(h),e.appendChild(d)}function A(){s=0,r=!1,document.getElementById("errors").innerText="Mistakes: 0/3",g=!1,document.querySelectorAll("img.pressed").forEach((function(e){e.classList.remove("pressed")})),document.querySelectorAll("span").forEach((function(e){e.style.color=""})),O()}function O(){for(var e=document.getElementById("board");e.firstChild;)e.removeChild(e.firstChild);var a=document.getElementById("game-over-message");a&&a.remove();var i=document.getElementById("congratulations-message");i&&i.remove();var t=document.getElementById("digits");t&&(t.innerHTML="")}p.addEventListener("click",(function(){if(p.classList.add("bulb-pressed"),setTimeout((function(){p.classList.remove("bulb-pressed")}),300),f){var a=f,i=a.row,t=a.col,d=document.getElementById("".concat(i,"-").concat(t));if(d&&!d.classList.contains("user-input")&&!d.classList.contains("tile-start")){d.innerHTML="";var o=e[i][t];0!==o&&(d.innerText=o,d.classList.add("user-input"),d.classList.add("pista"),b[o-1]++,c[i][t]=o,g&&S(L(c))),T(o)}}})),document.querySelectorAll(".difficulty-btn").forEach((function(e){e.addEventListener("click",(function(){m=e.getAttribute("data-difficulty"),_(),document.getElementById("start-modal").style.display="none"}))})),window.addEventListener("DOMContentLoaded",(function(e){document.getElementById("start-modal").style.display="block",document.getElementById("timer").innerText="00:00",U()})),document.addEventListener("keydown",(function(e){var a=e.key;if(!r)switch(a){case"ArrowUp":x(-1,0);break;case"ArrowDown":x(1,0);break;case"ArrowLeft":x(0,-1);break;case"ArrowRight":x(0,1);break;default:if(!isNaN(a)&&" "!==a){var i=parseInt(a);if(i>=1&&i<=9){if(b[i-1]>=9)return void console.log("Colocado 9 veces el numero ".concat(i));console.log("el digito es: ",i),console.log("Llamando a selectTile desde el evento de teclado"),C(null,i)}}}})),document.querySelectorAll("#digits > div").forEach((function(e){e.addEventListener("click",N)}));var j,w,P=null;function R(e){return b[e-1]<9}function D(e){var a=document.querySelector('#digits [data-number="'.concat(e,'"]'));a&&(a.classList.add("unavailable"),a.removeEventListener("click",N),b[e-1])}function N(e){var a,i=parseInt(e.target.dataset.number);if(t&&parseInt(t.innerText)===i)return t.style.backgroundColor="",F(),void(t=null);null!==P&&(a=P,document.querySelectorAll("#board > div.tile").forEach((function(e){e.innerText===a&&(e.classList.remove("highlighted"),e.style.backgroundColor="")}))),F(),document.querySelectorAll("#board > div.tile").forEach((function(e){e.innerText===i.toString()&&(e.classList.add("highlighted"),e.style.backgroundColor="rgb(64, 89, 126)")})),P=i,R(i)?C(null,i):D(i)}function F(){document.querySelectorAll("#board > div.tile").forEach((function(e){e.classList.remove("highlighted"),e.style.backgroundColor="",e.classList.remove("highlighted-line"),e.classList.remove("highlighted-square")}))}function U(){clearInterval(j)}})()})();