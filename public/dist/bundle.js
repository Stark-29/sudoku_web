(()=>{"use strict";var e={240:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BASE_LAYOUT=void 0,i.BASE_LAYOUT=[[0,1,2,3,4,5,6,7,8],[9,10,11,12,13,14,15,16,17],[18,19,20,21,22,23,24,25,26],[27,28,29,30,31,32,33,34,35],[36,37,38,39,40,41,42,43,44],[45,46,47,48,49,50,51,52,53],[54,55,56,57,58,59,60,61,62],[63,64,65,66,67,68,69,70,71],[72,73,74,75,76,77,78,79,80]]},647:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DIFFICULTY_LEVELS=void 0;i.DIFFICULTY_LEVELS=Object.keys({easy:void 0,medium:void 0,hard:void 0,expert:void 0})},956:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SEEDS=void 0,i.SEEDS=[{puzzle:"g--d--caf---g----ii-f--hg-bb-iaedhgc--afcg--d-g-b-----f-d--abc---b------c--h-bfia",solution:"gbhdiecafacegbfdhiidfcahgebbfiaedhgcehafcgibddgcbhiafefidegabchhabifcedgceghdbfia",difficulty:"easy"},{puzzle:"bf-hiac-g-gi------a-hf-g---g-a-fi--ddef---i-b--b-a-g-ff---gbh--hac---------e-cfd-",solution:"bfdhiacegegicbdafhachfegdbighabfiecddefgchiabcibdaeghffdeagbhichacidfbgeibgehcfda",difficulty:"easy"},{puzzle:"hgad-e--b-cbf-ge---df-aih-----i-------d-ecai-g---fa----igadf----fe-i-----h-eg-fd-",solution:"hgadceifbicbfhgeadedfbaihcgcahibdgeffbdgecaihgeihfadbcbigadfchedfecihbgaahcegbfdi",difficulty:"easy"},{puzzle:"-fbe-c----e-----a---g-ihb--gb-fhdc-eid-g-eahbch-----f-----ef-ga-g----e-i--hi-----",solution:"afbegcidhheidfbgacdcgaihbefgbafhdcieidfgceahbchebaidfgbidcefhgafgchdaebieahibgfcd",difficulty:"easy"},{puzzle:"c--d-fgeb---g--i-hg-ih--da-a-g-b-cde-edc--a--b--------i-e-cd-ha-fb-h-e-ch--e-----",solution:"cahdifgebedfgabichgbihecdafahgfbicdefedcghabibicadehfgigebcdfhadfbihaegchcaefgbid",difficulty:"easy"},{puzzle:"bi---ec--eg--h-fbdf--------i-hba-dfe----ehbig--bf-d-h--f-e-a-c-----g-e--cde--f--a",solution:"bidgfecahegcahifbdfhadcbgeiichbagdfedafcehbiggebfidahchfgedaicbabihgcedfcdeibfhga",difficulty:"easy"},{puzzle:"-----ef-ha--bf--ecfe-gc---a----gbch--a--df-b--bi----f-h-af-gidbdf----g--i--c--ha-",solution:"bicdaefghahgbfidecfedgchbiaedfagbchicahidfebggbiehcafdhcafegidbdfbhiagceigecbdhaf",difficulty:"easy"},{puzzle:"--fg--hec-ebc-------h-dfgabb--h-a-fg-g-df-i--f-a---b--hf----ad---if----hc-ea---bi",solution:"dafgbihecgebcahdifichedfgabbidhcaefgegcdfbihafhaigebcdhfgbicadeabifedcghcdeahgfbi",difficulty:"easy"},{puzzle:"-----b-f-e-aih----bi----a----e---i---g-bf--a-----cihg-ic-fdhg-a--h---f-cgef-iad-b",solution:"dhcgabefiefaihcbdgbigdefachcaehgdibfhgibfecadfbdacihgeicbfdhgeaadhebgficgefciadhb",difficulty:"easy"},{puzzle:"e--f-b-------eid-f--h----b-ge-c-fadhab-ihgfe-hc--d----d-g---cf---eg--h-bf---i----",solution:"edcfgbihabgaheidcfifhdcaebggeicbfadhabdihgfechcfadebgidigbahcfecaegfdhibfhbeicgad",difficulty:"easy"},{puzzle:"g-hedcf---i-f--a--e--a-----c--i-deh-i-------g--g--e---a----f--c-cf-e-gi-b-------e",solution:"gahedcfbidicfbgaehefbaihcgdcbaigdehfihebfadcgfdghceiabaeighfbdchcfdebgiabgdcaihfe",difficulty:"medium"},{puzzle:"-di--ac---b-cid-h---h--b-d-----f----h-d----fca---c-i--d----i-e-bh---cd-g-g---fac-",solution:"fdighacbeebgcidfhacahfebgdigecifhbadhidabgefcafbdceighdcabgihefbhfeacdigigehdfacb",difficulty:"medium"},{puzzle:"--ac-i------ah-d---e----i---a-e-bc----g--f--ad---gae--ig-fa------hd-e-g-c-d-b----",solution:"hdaceigfbbifahgdcegecbfdiahfaiedbchgehgicfbdadcbhgaeifigefachbdabhdiefgccfdgbhaei",difficulty:"medium"},{puzzle:"fg----i---h--f-e--e-bd--afh-f--hg--ic------b----f-c-----c-------eiac-gdf-b-----e-",solution:"fgaebhicdihdcfaegbecbdgiafhdfebhgcaicahidefbgbigfacdhegdchefbiaheiacbgdfabfgidhec",difficulty:"medium"},{puzzle:"--d-g-fi---e-ci-d-a----eg-----i---f---bg--ec-e--d--haig----f----ha--------ch-g-e-",solution:"cbdaghfiehgefciadbaifbdeghcdahiecbfgifbghaecdecgdfbhaigeicafdbhbhaeidcgffdchbgiea",difficulty:"medium"},{puzzle:"----d-a---a-ie---di------h-d-e--cg-b-b-e--i----c-i--dh--h-gf--c------b-g--i-ce-a-",solution:"ehfcdgabicabiehfgdigdfbachediehacgfbhbgefdicaafcgibedhbehagfdicfcadhibeggdibcehaf",difficulty:"medium"},{puzzle:"---cfa-ibf---i-------g---f--i--h-cd-gdf--------cd--fb-------bc--gb---dhi---he--g-",solution:"dhecfagibfbgeidhaccaigbhefdbiafhecdggdfbaciehhecdgifbaafhidgbceegbacfdhiicdhebagf",difficulty:"medium"},{puzzle:"a------g-b--di-a-f--e--ahi----a------bae--------ichbaei---de------c-igd-d-h----ci",solution:"aidhefcgbbhgdicaeffcebgahidheiabgdfccbaefdihggdfichbaeiacgdefbhefbchigdadghfabeci",difficulty:"medium"},{puzzle:"----g-------ci--bg-i-de-af-------beh-----fgdi---eb-f----ah--ig---hg-d---cd--a----",solution:"hacfgbdieefdciahbggibdehafcagfidcbehbceahfgdidhiebgfcafbahceigdiehgfdcabcdgbaiehf",difficulty:"medium"},{puzzle:"gfbc---dh-a-------d--a--fi--daifc--ech------f-------c-f---e--b---d-----i--igh-d--",solution:"gfbcieadhiahbdfcegdceaghfibbdaifcghechgebdiafeifhagbcdfgcdeihbahbdfcaegiaeighbdfc",difficulty:"medium"},{puzzle:"-e-fh--a-g----ed---a--b-f---ih----dc--------a----g----b---i---dhc-gf-----g------e",solution:"debfhciagghfiaedcbcaidbgfehaihbefgdcfbgcdiehaedchgabifbfaeihcgdhcegfdabiigdacbhfe",difficulty:"hard"},{puzzle:"----i-b---fc--a-h-eb----i-fcieg--ad---hd-e----d--a----f---b-e-i-------b--h--e----",solution:"hageifbcdifcbdagheebdchgiafciegfbadhaghdcefibbdfiahcegfcahbdegideifgchbaghbaeidfc",difficulty:"hard"},{puzzle:"-------hg-----h-d-a-g---ei--ce--dg--dbf---------bfid--hg---f----d--h---c--a-eg---",solution:"bedfiachgficeghbdaahgdbceificehadgfbdbfgceiahgahbfidcehgbcdfaeiediahbfgccfaieghbd",difficulty:"hard"},{puzzle:"h---f------------i--e---a-h-dhe---a---fh-b----i--c---gf-ga-di--a-i---d-bce------a",solution:"hgcifabdedabgehfciifebdcaghbdheigcafgcfhabeideiadcfhbgfbgahdiecahicgedfbcedfbigha",difficulty:"hard"},{puzzle:"f----dha----b------a------dic---h------c--egb-----------a-----ed--f-ec-g-fg------",solution:"febigdhachdcbfageigaiehcbfdicegbhadfahfcdiegbbgdaefichcbadigfhedihfaecbgefghcbdia",difficulty:"hard"},{puzzle:"c-a---i---b--c--ede----g--c-e---dga--c---b--i--gf-----b-----ei------a-cg--ie----a",solution:"cfahdeigbgbhacifedeidbfgahchebcidgafacfgebhdiidgfahcbebacdgfeihfheibadcgdgiehcbfa",difficulty:"hard"},{puzzle:"--a-i---cc-g-------h--e--a--a---ib---d--f--h-----------i---d-f------g-c-dg---b--h",solution:"beagifhdccfghdaibeihdbecfaghafcgibedgdbafechiecidbhagfaihecdgfbfbeihgdcadgcfabeih",difficulty:"hard"},{puzzle:"i--f--ec------a-fbg-b-i---h-d---ihg-----b---fe---a------d-----i---ie-b-------g---",solution:"iahfdbecgdcehgaifbgfbeicdahbdacfihgechgdbeaifeifgahcbdhbdacfgeifgciedbhaaeibhgfdc",difficulty:"hard"},{puzzle:"--e---c------i--g-------d-hbaf--------cfhe--ie------f-h-d-c-----f-h----c---i-ga--",solution:"fdegbhciaacheidfgbibgcfadehbafdgihcedgcfhebaiehibacgfdhidacfebggfahebidccebidgahf",difficulty:"hard"},{puzzle:"--f-d-i---g--b-a-d--c-a-----c-i---e---eh--g---------ac---------b---i-e----gf--d--",solution:"abfcdhigehgiebfacddecgaibhfgcdifahebfaehcbgdiihbdegfacefabgdcihbdhaicefgcigfhedba",difficulty:"hard"},{puzzle:"-ica------------bh----g--f--g---a---i-e----c-a---f------d--bg------c---e-fg----id",solution:"ficabhdeggeaidfcbhdhbegcifabgfceahdiidebhgacfachdfiegbeadfibghchbigcdfaecfghaebid",difficulty:"expert"},{puzzle:"-h-i------i---------f--bh--b---a--ed-ca------i--f---h--------c----he--f-ab--df---",solution:"ehbicdgafdigafhcbecafegbhdibghcaifedfcadheigbiedfbgahchfebiadcggdihecbfaabcgdfeih",difficulty:"expert"},{puzzle:"-h--c-f-ice-------b--ia--------g-h------e---ff--h---i----b---eh----------ga--f--c",solution:"ahgdcefbiceigfbahdbfdiahcgediefgchabgbhaeidcffachbdeigicfbdagehedbchgifahgaeifbdc",difficulty:"expert"},{puzzle:"a----db---g-c----f--e-f--i---------i----h-f-d--g---ch---b--e-c-ca------h-d-------",solution:"afchidbegigdcebhafhbegfadicfehdgcabibcaehifgddigbafcheghbfdeicacafibgedhediachgfb",difficulty:"expert"},{puzzle:"------c--g-b--a---------g-h---e----gb--id-----i-f---eb----i---c-he-f-d--a------h-",solution:"edhbgicfagfbchaeidicadefgbhhafebcidgbegidhacfdicfaghebfgdhiebaccheafbdgiabigcdfhe",difficulty:"expert"},{puzzle:"---bf-i-------hc-aa----------g------h--c-e----i----bh----f---g--f-----e---hig-a--",solution:"chebfaidgfgdeihcbaabidcgefhbeghdifachafcbegiddicgafbheicafedhgbgfbahcdeiedhigbacf",difficulty:"expert"},{puzzle:"--c-----d---g-i--h-i----b--ace------d--bh----b--f---------e---------bea--d--a--c-",solution:"gecabhifdfbagdicehhidefcbgaaceigdhbfdgfbheaicbhifcagdeiagcefdhbcfhdibeagedbhagfci",difficulty:"expert"},{puzzle:"-----d-h--h-----a-gb------i-----a--g----eh-c--i--d-----ge---a--d----f-----ab--i--",solution:"iacefdghbehdgibcafgbfhacedicehfbadigfdgiehbcaaibcdgfehbgedhiafcdciagfhbehfabceigd",difficulty:"expert"},{puzzle:"-bi-------c----e---------af---eba-----a-i-g------c--i----h-e--d-e------gc-b--f---",solution:"fbiaegdhcachdfbegiedgchibafgicebafdhbhafidgcedfegchaibiafhgecbdhedbacifgcgbidfhea",difficulty:"expert"},{puzzle:"---i--h-bc----b----g----a----gd-----e--h-f------b---ac-c------ha-----id--i--gd---",solution:"deficahgbchagfbdeibgiedhacffagdicbheebchafgididhbegfacgcdabiefhafbcheidghiefgdcba",difficulty:"expert"}]},444:(e,i,a)=>{i.u=void 0;var t=a(618);Object.defineProperty(i,"u",{enumerable:!0,get:function(){return t.getSudoku}})},618:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getSudoku=void 0;const t=a(240),d=a(647),c=a(236),o=a(146),n=a(720),f=a(57),l=a(956),r=a(663);i.getSudoku=e=>{if(e&&!(0,r.validateDifficulty)(e))throw new Error(`Invalid difficulty, expected one of: ${d.DIFFICULTY_LEVELS.join(", ")}`);const i=(0,o.getSeed)(l.SEEDS,e),a=(0,c.getLayout)(t.BASE_LAYOUT),g=(0,f.getTokenMap)();return{puzzle:(0,n.getSequence)(a,i.puzzle,g),solution:(0,n.getSequence)(a,i.solution,g),difficulty:i.difficulty}}},157:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.boardToSequence=void 0,i.boardToSequence=e=>e.map((e=>e.join(""))).join("")},569:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRandomItem=void 0,i.getRandomItem=e=>e[Math.floor(Math.random()*e.length)]},720:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getSequence=void 0;const t=a(157),d=a(882),c=a(762);i.getSequence=(e,i,a)=>(0,t.boardToSequence)((0,d.populateLayout)(e,(0,c.replaceTokens)(i,a)))},762:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.replaceTokens=void 0,i.replaceTokens=(e,i)=>e.split("").map((e=>i[e]||e)).join("")},593:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sortRandom=void 0,i.sortRandom=()=>Math.random()<.5?1:-1},335:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getLayoutBands=void 0,i.getLayoutBands=e=>[[e[0],e[1],e[2]],[e[3],e[4],e[5]],[e[6],e[7],e[8]]]},236:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getLayout=void 0;const t=a(691),d=a(129);i.getLayout=e=>(0,d.shuffleLayout)((0,t.rotateLayout)(e))},882:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.populateLayout=void 0,i.populateLayout=(e,i)=>e.map((e=>e.map((e=>i[e]))))},384:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.rotateLayout0=void 0,i.rotateLayout0=e=>e},529:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.rotateLayout180=void 0,i.rotateLayout180=e=>e.map((e=>[...e].reverse())).reverse()},779:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.rotateLayout270=void 0,i.rotateLayout270=e=>e[0].map(((i,a)=>e.map((e=>[...e].reverse()[a]))))},873:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.rotateLayout90=void 0,i.rotateLayout90=e=>e[0].map(((i,a)=>e.map((e=>e[a])).reverse()))},691:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.rotateLayout=void 0;const t=a(569),d=a(384),c=a(529),o=a(779),n=a(873);i.rotateLayout=e=>(0,t.getRandomItem)([d.rotateLayout0,n.rotateLayout90,c.rotateLayout180,o.rotateLayout270])(e)},506:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shuffleLayoutBands=void 0;const t=a(335),d=a(593);i.shuffleLayoutBands=e=>(0,t.getLayoutBands)(e).sort(d.sortRandom).flat()},887:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shuffleLayoutColumns=void 0;const t=a(779),d=a(873),c=a(359);i.shuffleLayoutColumns=e=>(0,t.rotateLayout270)((0,c.shuffleLayoutRows)((0,d.rotateLayout90)(e)))},359:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shuffleLayoutRows=void 0;const t=a(335),d=a(593);i.shuffleLayoutRows=e=>(0,t.getLayoutBands)(e).map((e=>e.sort(d.sortRandom))).flat()},339:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shuffleLayoutStacks=void 0;const t=a(779),d=a(873),c=a(506);i.shuffleLayoutStacks=e=>(0,t.rotateLayout270)((0,c.shuffleLayoutBands)((0,d.rotateLayout90)(e)))},129:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shuffleLayout=void 0;const t=a(506),d=a(887),c=a(359),o=a(339);i.shuffleLayout=e=>(0,d.shuffleLayoutColumns)((0,c.shuffleLayoutRows)((0,o.shuffleLayoutStacks)((0,t.shuffleLayoutBands)(e))))},146:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getSeed=void 0;const t=a(569),d=a(595);i.getSeed=(e,i)=>(0,t.getRandomItem)((0,d.getSeedsByDifficulty)(e,i))},595:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getSeedsByDifficulty=void 0,i.getSeedsByDifficulty=(e,i)=>e.filter((e=>!i||e.difficulty===i))},57:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getTokenMap=void 0;const t=a(593);i.getTokenMap=()=>"abcdefghi".split("").sort(t.sortRandom).reduce(((e,i,a)=>({...e,[i]:String(a+1)})),{})},663:(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.validateDifficulty=void 0;const t=a(647);i.validateDifficulty=e=>t.DIFFICULTY_LEVELS.includes(e)}},i={};function a(t){var d=i[t];if(void 0!==d)return d.exports;var c=i[t]={exports:{}};return e[t](c,c.exports,a),c.exports}(()=>{var e,i=a(444),t=null,d=null,c=[],o=null,n=null,f=[],l=!1,r=!1,g=!1,h=0,s=3,u=new Array(9).fill(0),b="easy";function m(e){for(var i=[],a=0;a<e.length;a++)for(var t=0;t<e[a].length;t++)if(0===e[a][t]){var d=y(e,a,t);i.push({row:a,col:t,candidates:d})}return i}function y(e,i,a){for(var t=[],d=1;d<=9;d++)v(e,i,a,d)&&t.push(d);return t}function v(e,i,a,t){for(var d=0;d<9;d++)if(e[i][d]===t)return!1;for(var c=0;c<9;c++)if(e[c][a]===t)return!1;for(var o=3*Math.floor(i/3),n=3*Math.floor(a/3),f=o;f<o+3;f++)for(var l=n;l<n+3;l++)if(e[f][l]===t)return!1;return!0}function p(e){e.forEach((function(e){var i=e.row,a=e.col,t=e.candidates,d=document.getElementById(i+"-"+a);if(d&&!d.querySelector(".user-input")&&!d.classList.contains("tile-start")&&!d.classList.contains("pista")){var c=d.querySelector(".grid-container");if(c&&c.classList.contains("user-modified"))c.querySelectorAll(".candidate").forEach((function(e){var i=parseInt(e.textContent);t.includes(i)||e.remove()}));else{d.innerHTML="",(c=document.createElement("div")).classList.add("grid-container");var o=[[1,2,3],[4,5,6],[7,8,9]];t.forEach((function(e){var i=document.createElement("span");i.classList.add("candidate");var a=o[Math.floor((e-1)/3)][(e-1)%3];i.style.gridColumn=a%3==0?3:a%3,i.style.gridRow=Math.ceil(a/3),i.textContent=e,c.appendChild(i)})),d.appendChild(c)}}}))}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".tool:first-child"),i=e.parentElement.querySelector("span"),a=window.getComputedStyle(i).color;e.addEventListener("click",(function(){(r=!r)?(p(m(c)),i.style.color="#2f7bda"):(document.querySelectorAll(".grid-container").forEach((function(e){return e.remove()})),i.style.color=a)}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".tool")[1],i=e.querySelector("span"),a=window.getComputedStyle(i).color;e.addEventListener("click",(function(){(g=!g)?(console.log("Lápiz de candidatos activado"),i.style.color="#2f7bda"):(console.log("Lápiz de candidatos desactivado"),i.style.color=a)}))}));var L=document.querySelector(".tool:nth-child(3) img.pista-image");function E(){u=new Array(9).fill(0)}function z(e){for(var i=new Array(9).fill(0),a=0;a<9;a++)for(var t=0;t<9;t++){var d=e[a][t];0!==d&&i[d-1]++}return i}function S(e,i,a){var t=n.row,c=n.col,o=Math.max(0,Math.min(8,t+e)),f=Math.max(0,Math.min(8,c+i)),l="".concat(o,"-").concat(f);try{var r=document.getElementById(l);r&&(P(),x(),n={row:o,col:f},d=r,r.classList.add("highlighted"),d.classList.contains("user-input")||d.classList.contains("tile-start")?(_(parseInt(d.innerText)),M(o,f)):M(o,f))}catch(e){console.error("Error al seleccionar la celda:",e.message)}}function I(i,a){var o;if(P(),x(),i?((o=i.target).classList.contains("grid-container")||o.classList.contains("candidate"))&&(console.log("El clic se realizó en un grid-container o un candidato"),o=o.closest(".tile")):o=d,o){var f=o.id.split("-"),l=parseInt(f[0]),b=parseInt(f[1]);n={row:l,col:b},console.log("R=",l,"C=",b),(d=o).classList.add("highlighted"),M(l,b);var y=d.classList.contains("user-input")||d.classList.contains("tile-start");if(y&&(_(a||parseInt(d.innerText)),M(l,b)),!y&&a&&(console.log("El primer if se ha ejecutado correctamente."),""===d.innerText||d.querySelectorAll(".candidate").length>0)){if(console.log("El segundo if se ha ejecutado correctamente."),console.log("Valor de solution en la celda:",e[l][b]),console.log("El número seleccionado es ".concat(a,".")),g)return void function(e,i){var a=e.row,t=e.col,d=document.getElementById("".concat(a,"-").concat(t));if(d&&!d.classList.contains("user-input")&&!d.classList.contains("tile-start")){var c=d.querySelector(".grid-container");c||((c=document.createElement("div")).classList.add("grid-container"),d.appendChild(c)),c.classList.add("user-modified");var o=c.querySelectorAll(".candidate"),n=[[1,2,3],[4,5,6],[7,8,9]][Math.floor((i-1)/3)][(i-1)%3],f=Array.from(o).find((function(e){var i=parseInt(e.style.gridRow),a=parseInt(e.style.gridColumn);return i===Math.ceil(n/3)&&a===(n%3==0?3:n%3)}));if(f)f.remove();else{var l=document.createElement("span");l.textContent=i,l.classList.add("candidate","user-candidate"),l.style.gridColumn=n%3==0?3:n%3,l.style.gridRow=Math.ceil(n/3),c.appendChild(l)}}}(n,a);e&&e[l]&&e[l][b]===a?(w(a)?(d.innerText=a,console.log("El número ".concat(a," ha sido colocado en la celda ").concat(l,"-").concat(b,".")),d.classList.add("user-input"),d.querySelectorAll(".candidate").forEach((function(e){return e.remove()})),c[l][b]=a,u[a-1]++,console.log("Número ".concat(a," ha sido colocado ").concat(u[a-1]," veces.")),w(a)||(O(a),t=null),r&&p(m(c)),_(a),function(){var e=document.getElementById("remaining-container");e.innerHTML="";for(var i=1;i<=9;i++){var a=document.createElement("div"),t=9-u[i-1];t>0?a.innerText=t:(a.style.backgroundColor="transparent",a.style.visibility="hidden"),a.classList.add("remaining"),a.dataset.number=i,e.appendChild(a)}}(),M(l,b)):(h+=1,document.getElementById("errors").innerText="Mistakes: ".concat(h,"/").concat(s),h>=s&&(D(),C())),function(){for(var i=0;i<9;i++)for(var a=0;a<9;a++){var t=document.getElementById("".concat(i,"-").concat(a));if(t.classList.contains("user-input")||t.classList.contains("tile-start")){if(t.innerText!==e[i][a].toString())return!1}else if(""!==t.innerText.trim()||!t.querySelector(".candidate"))return!1}return console.log("El sudoku esta resuelto"),!0}()&&(D(),function(){var e=document.getElementById("board"),i=document.createElement("div");i.classList.add("dialog-container"),document.body.appendChild(i);var a=document.createElement("div");a.classList.add("dialog-box"),a.id="congratulations-message",i.appendChild(a),r=!1;var t=document.createElement("div"),d=document.getElementById("timer").innerText;t.innerHTML="¡Felicidades!<br>Has completado el sudoku en ".concat(d),t.classList.add("congratulations-text"),a.appendChild(t);var c=document.createElement("button");c.textContent="New Game",c.classList.add("new-game-button"),c.addEventListener("click",(function(){T(),document.getElementById("start-modal").style.display="block",document.getElementById("timer").innerText="00:00",D(),i.remove()})),a.appendChild(c),e.appendChild(a)}())):(h+=1,document.getElementById("errors").innerText="Mistakes: ".concat(h,"/").concat(s),h>=s&&(D(),C()))}}}function M(e,i){for(var a=3*Math.floor(e/3),t=3*Math.floor(i/3),d=a;d<a+3;d++)for(var c=t;c<t+3;c++)document.getElementById("".concat(d,"-").concat(c)).classList.add("highlighted-square");for(var o=0;o<9;o++)document.getElementById("".concat(o,"-").concat(i)).classList.add("highlighted-line"),document.getElementById("".concat(e,"-").concat(o)).classList.add("highlighted-line")}function _(e){x(),document.querySelectorAll("#board > div.tile").forEach((function(i){i.innerText===e.toString()&&(i.classList.contains("tile-start")||i.classList.contains("user-input"))&&(i.classList.add("highlighted"),i.style.backgroundColor="rgb(64, 89, 126)")})),document.querySelectorAll(".candidate").forEach((function(i){i.innerText===e.toString()&&i.classList.add("highlighted-candidate")}))}function x(){document.querySelectorAll(".highlighted, .highlighted-candidate").forEach((function(e){e.classList.remove("highlighted","highlighted-candidate"),e.style.backgroundColor=""}))}function C(){var e=document.getElementById("board");document.querySelectorAll("#board .tile").forEach((function(e){e.removeEventListener("click",I)})),document.getElementById("digits").style.cursor="default";var i=document.querySelectorAll("#digits > div"),a=document.querySelectorAll("#remaining-container > div");i.forEach((function(e){e.classList.add("unavailable"),e.style.cursor="default"})),a.forEach((function(e){e.classList.add("unavailable")})),l=!0;var d=document.createElement("div");d.classList.add("dialog-container"),document.body.appendChild(d);var c=document.createElement("div");c.classList.add("dialog-box"),c.id="game-over-message",d.appendChild(c);var o=document.createElement("div");o.textContent="GAME OVER",o.classList.add("game-over-text"),c.appendChild(o);var n=document.createElement("button");n.textContent="New Game",n.classList.add("new-game-button"),n.addEventListener("click",(function(){T(),document.getElementById("start-modal").style.display="block",document.getElementById("timer").innerText="00:00",D(),c.remove(),d.remove()})),c.appendChild(n);var f=document.createElement("button");f.textContent="Restart",f.classList.add("restart-button"),f.addEventListener("click",(function(){D(),P(),function(){document.querySelectorAll(".tile.user-input").forEach((function(e){e.innerText="",e.classList.remove("user-input")}));var e=document.querySelectorAll(".tile");document.querySelectorAll(".grid-container").forEach((function(e){e.innerText=""})),t=null,E(),document.getElementById("digits").style.cursor="default";var i=document.querySelectorAll("#digits > div"),a=document.querySelectorAll("#remaining-container > div");i.forEach((function(e){e.classList.remove("unavailable"),e.style.cursor="cursor"})),a.forEach((function(e){e.classList.remove("unavailable")})),document.getElementById("timer").innerText="00:00",h=0,l=!1,document.getElementById("errors").innerText="Mistakes: 0/3",r=!1,document.querySelectorAll("span").forEach((function(e){e.style.color=""})),R(),e.forEach((function(e){e.addEventListener("click",I)}))}(),c.remove(),d.remove()})),c.appendChild(f),e.appendChild(c)}function T(){h=0,l=!1,document.getElementById("errors").innerText="Mistakes: 0/3",r=!1,document.querySelectorAll("img.pressed").forEach((function(e){e.classList.remove("pressed")})),document.querySelectorAll("span").forEach((function(e){e.style.color=""})),k()}function k(){for(var e=document.getElementById("board");e.firstChild;)e.removeChild(e.firstChild);var i=document.getElementById("game-over-message");i&&i.remove();var a=document.getElementById("congratulations-message");a&&a.remove();var t=document.getElementById("digits");t&&(t.innerHTML="")}L.addEventListener("click",(function(){if(L.classList.toggle("pressed"),L.classList.add("bulb-pressed"),setTimeout((function(){L.classList.remove("bulb-pressed")}),200),n){var i=n,a=i.row,t=i.col,d=document.getElementById("".concat(a,"-").concat(t));if(d&&!d.classList.contains("user-input")&&!d.classList.contains("tile-start")){d.innerHTML="";var o=e[a][t];0!==o&&(d.innerText=o,d.classList.add("user-input"),d.classList.add("pista"),u[o-1]++,c[a][t]=o,r&&p(m(c))),_(o)}}})),document.querySelectorAll(".difficulty-btn").forEach((function(a){a.addEventListener("click",(function(){b=a.getAttribute("data-difficulty"),function(){t=null,k(),R(),E();var a=(0,i.u)(b),d=a.puzzle,n=a.solution;console.log("Sudoku generado:",d),f=[];for(var l=0;l<9;l++)f.push(d.substring(9*l,9*(l+1)).split("").map((function(e){return"-"===e?0:parseInt(e)})));c=JSON.parse(JSON.stringify(f)),o=z(f),function(){var e=document.getElementById("remaining-container");e.innerHTML="";for(var i=1;i<=9;i++){var a=document.createElement("div"),t=9-o[i-1];a.innerText=t,a.classList.add("remaining"),a.dataset.number=i,e.appendChild(a)}}();for(var r=[],g=0;g<9;g++)r.push(n.substring(9*g,9*(g+1)).split("").map((function(e){return"-"===e?0:parseInt(e)})));console.log("Sudoku resuelto:",r),console.log("Nested Puzzle:",f),z(f);for(var h=1;h<=9;h++){var s=document.createElement("div");s.innerText=h,s.dataset.number=h,s.addEventListener("click",j),s.classList.add("number"),document.getElementById("digits").appendChild(s)}for(var m=0;m<9;m++)for(var y=0;y<9;y++){var v=document.createElement("div");if(v.id=m.toString()+"-"+y.toString(),0!==f[m][y]){v.innerText=f[m][y],v.classList.add("tile-start");var p=f[m][y];u[p-1]++}2!=m&&5!=m||v.classList.add("horizontal-line"),0!=m&&1!=m&&3!=m&&4!=m&&6!=m&&7!=m||v.classList.add("horizontal-grid"),2!=y&&5!=y||v.classList.add("vertical-line"),0!=y&&1!=y&&3!=y&&4!=y&&6!=y&&7!=y||v.classList.add("vertical-grid"),v.addEventListener("click",I),v.classList.add("tile"),document.getElementById("board").append(v)}e=r,document.getElementById("difficulty").textContent=b.charAt(0).toUpperCase()+b.slice(1)}(),document.getElementById("start-modal").style.display="none"}))})),window.addEventListener("DOMContentLoaded",(function(e){document.getElementById("start-modal").style.display="block",document.getElementById("timer").innerText="00:00",D()})),document.addEventListener("keydown",(function(e){var i=e.key;if(!l)switch(i){case"ArrowUp":S(-1,0);break;case"ArrowDown":S(1,0);break;case"ArrowLeft":S(0,-1);break;case"ArrowRight":S(0,1);break;default:if(!isNaN(i)&&" "!==i){var a=parseInt(i);if(a>=1&&a<=9){if(u[a-1]>=9)return void console.log("Colocado 9 veces el numero ".concat(a));console.log("el digito es: ",a),console.log("Llamando a selectTile desde el evento de teclado"),I(null,a)}}}})),document.querySelectorAll("#digits > div").forEach((function(e){e.addEventListener("click",j)})),document.querySelectorAll(".tool img").forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("pressed"),e.classList.contains("pista-image")&&(e.classList.add("bulb-pressed"),setTimeout((function(){e.classList.remove("bulb-pressed")}),200))}))}));var B,q,A=null;function w(e){return u[e-1]<9}function O(e){var i=document.querySelector('#digits [data-number="'.concat(e,'"]'));i&&(i.classList.add("unavailable"),i.removeEventListener("click",j),u[e-1])}function j(e){var i,a=parseInt(e.target.dataset.number);if(t&&parseInt(t.innerText)===a)return t.style.backgroundColor="",P(),void(t=null);null!==A&&(i=A,document.querySelectorAll("#board > div.tile").forEach((function(e){e.innerText===i&&(e.classList.remove("highlighted"),e.style.backgroundColor="")}))),P(),document.querySelectorAll("#board > div.tile").forEach((function(e){e.innerText===a.toString()&&(e.classList.add("highlighted"),e.style.backgroundColor="rgb(64, 89, 126)")})),A=a,w(a)?I(null,a):O(a)}function P(){document.querySelectorAll("#board > div.tile").forEach((function(e){e.classList.remove("highlighted"),e.style.backgroundColor="",e.classList.remove("highlighted-line"),e.classList.remove("highlighted-square")}))}function R(){q=Date.now(),B=setInterval((function(){var e,i,a,t;e=Date.now()-q,i=Math.floor(e/6e4),a=Math.floor(e%6e4/1e3),t="".concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")),document.getElementById("timer").innerText=t}),1e3)}function D(){clearInterval(B)}})()})();